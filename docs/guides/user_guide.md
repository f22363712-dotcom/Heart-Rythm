# 心动积分项目 用户指南

## 1. 系统简介

### 1.1 项目背景

心动积分项目是一个专为情侣设计的积分管理系统，旨在帮助情侣记录和管理彼此的积分，促进感情发展。通过完成各种任务和挑战，情侣可以获得积分，然后用积分兑换奖励，增强彼此之间的互动和情感连接。

### 1.2 系统功能

- **情侣管理**：添加和管理情侣信息
- **奖励管理**：创建和管理奖励商品
- **积分变动**：记录情侣之间的积分变动
- **兑换记录**：管理奖励兑换记录
- **系统统计**：查看系统的整体统计信息
- **数据备份**：自动备份和管理数据

### 1.3 技术架构

- **后端**：Python + FastAPI
- **前端**：Python + Flask
- **数据存储**：JSON文件存储
- **API文档**：Swagger UI

## 2. 安装和运行

### 2.1 环境要求

- Python 3.10 或更高版本
- pip 包管理工具

### 2.2 安装步骤

1. **克隆项目代码**
   ```bash
   git clone <项目仓库地址>
   cd Heart-Rythm
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **启动系统**
   ```bash
   python main.py
   ```

### 2.3 运行选项

启动系统后，会出现以下菜单选项：

```
==================================================
🎯 心动积分项目 - 主入口
==================================================
1. 启动后端服务
2. 启动前端应用
3. 运行示例程序
4. 运行测试
0. 退出
==================================================
请输入您的选择 [0-4]: 
```

- **选项1**：启动后端服务（默认端口：8000）
- **选项2**：启动前端应用（默认端口：5000）
- **选项3**：运行示例程序
- **选项4**：运行测试
- **选项0**：退出系统

## 3. 功能使用指南

### 3.1 后端服务

启动后端服务后，可以通过以下方式访问：

- **API文档**：`http://localhost:8000/docs`（Swagger UI）
- **API Base URL**：`http://localhost:8000`

### 3.2 前端应用

启动前端应用后，可以通过以下地址访问：

- **前端页面**：`http://localhost:5000`

#### 3.2.1 首页

首页展示了系统的基本信息和统计数据，包括情侣数量、奖励数量、总积分和兑换次数。

#### 3.2.2 情侣管理

- **添加情侣**：输入情侣ID、姓名1和姓名2，点击"添加情侣"按钮
- **查询情侣**：输入情侣ID，点击"查询"按钮查看情侣信息和积分变动历史

#### 3.2.3 奖励管理

- **添加奖励**：输入奖励ID、名称、所需积分、库存和描述，点击"添加奖励"按钮
- **积分变动**：输入情侣ID、积分变动值和变动原因，点击"提交积分变动"按钮
- **创建兑换记录**：输入情侣ID、奖励ID和使用积分，点击"创建兑换记录"按钮

#### 3.2.4 积分变动

同奖励管理页面的积分变动功能。

#### 3.2.5 系统统计

查看系统的整体统计信息，包括情侣数量、奖励数量、总积分和兑换次数。

### 3.3 示例程序

运行示例程序可以演示系统的主要功能，包括：

- 添加情侣
- 添加奖励
- 积分变动
- 查询数据
- 系统统计
- 备份管理

### 3.4 测试

运行测试可以验证系统的功能是否正常，包括：

- 单元测试：测试数据管理模块的核心功能
- 集成测试：测试API接口的功能

## 4. 数据管理

### 4.1 数据存储

系统数据存储在 `data/system_data.json` 文件中，包括：

- 情侣信息
- 奖励信息
- 积分变动记录
- 兑换记录

### 4.2 备份管理

系统会自动备份数据到 `data/backups/` 目录下，保留最近10个备份文件。

## 5. 常见问题

### 5.1 如何启动系统？

运行 `python main.py` 命令，然后选择相应的运行选项。

### 5.2 如何访问API文档？

启动后端服务后，访问 `http://localhost:8000/docs`。

### 5.3 如何访问前端页面？

启动前端应用后，访问 `http://localhost:5000`。

### 5.4 数据存储在哪里？

数据存储在 `data/system_data.json` 文件中。

### 5.5 如何备份数据？

系统会自动备份数据，无需手动操作。

### 5.6 如何恢复数据？

可以从 `data/backups/` 目录下选择备份文件进行恢复。

## 6. 开发说明

### 6.1 项目结构

```
Heart-Rythm/
├── backend/            # 后端代码
│   ├── api/           # API层
│   ├── models/         # 数据模型
│   ├── services/       # 服务层
│   ├── utils/          # 工具类
│   └── data_manager.py # 数据管理模块
├── frontend/           # 前端代码
│   ├── templates/      # HTML模板
│   └── main.py         # 前端入口
├── data/               # 数据存储目录
├── docs/               # 文档
├── tests/              # 测试代码
├── main.py             # 主入口文件
└── requirements.txt    # 依赖列表
```

### 6.2 开发流程

1. **克隆项目**：克隆项目代码到本地
2. **安装依赖**：运行 `pip install -r requirements.txt`
3. **开发代码**：在相应的目录下开发功能
4. **运行测试**：运行 `python main.py` 选择选项4运行测试
5. **提交代码**：提交代码到版本控制系统

## 7. 联系方式

如果您在使用过程中遇到任何问题，可以通过以下方式联系我们：

- **项目负责人**：XXX
- **邮箱**：XXX@example.com
- **GitHub**：<项目GitHub地址>

## 8. 更新日志

### 版本 1.0.0（2025-12-09）

- 初始版本
- 实现了情侣管理功能
- 实现了奖励管理功能
- 实现了积分变动功能
- 实现了兑换记录功能
- 实现了系统统计功能
- 实现了数据备份功能
- 实现了前端页面
- 实现了API文档

## 9. 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。
